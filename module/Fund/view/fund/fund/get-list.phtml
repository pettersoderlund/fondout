<?php
$url_order = 'ASC';  // set the opposite direction for the url
if ($queryParameters['order_by']  == 'name')
    $url_order = $queryParameters['order']  == 'ASC' ? 'DESC' : 'ASC';
/*elseif ($order_by == 'artist')
    $url_order = $order == 'ASC' ? 'DESC' : 'ASC';*/

//Use url_queryparameters for the sort buttons
//Use queryParameters for the pagination buttons
$url_queryParameters = $queryParameters;
$url_queryParameters['order'] = $url_order;
?>

<table class="table table-bordered table-hover">
	<thead>
		<tr>
			<th>
				<a href="<?php echo $this->url('funds', array(),
					array('query' => $url_queryParameters)); ?>">
					 <?php echo $this->translate('Name') ?>
					<?php if ($queryParameters['order_by'] == 'name'): ?>
						<i class="icon-chevron-
						<?php echo $url_order == 'ASC' ? 'down' : 'up' ?>">
					</i><?php endif; ?>
				</a>
			</th>
		</tr>
	</thead>
	<tbody>
	<?php foreach ($funds as $fund): ?>
		<tr>
			<td><a href="<?php echo $this->url('funds', array('id' => $fund->id)) ?>" title=""><?php echo $this->translate($fund->name) ?></td>
		</tr>
	<?php endforeach; ?>
	</tbody>
</table>

<?php if ($funds->getPages()->pageCount): ?>

  <div>
      <ul class="pagination pagination-centered">
          <!-- Previous page link -->
          <?php if (isset($funds->getPages()->previous)): ?>
              <li>
                  <a href="
                  <?php echo $this->url('funds', array(), array(
                      'query' => $this->queryParameters));
                      ?>&page=<?php echo $funds->getPages()->previous; ?>">
                      <<
                  </a>
              </li>
          <?php
          else: ?>
              <li class="disabled">
                  <a href="#">
                      <<
                  </a>
              </li>
          <?php endif; ?>
          <!-- Numbered page links -->
          <?php foreach ($funds->getPages()->pagesInRange as $page): ?>
              <?php if ($page != $funds->getPages()->current): ?>
                  <li>
                      <a href="
                      <?php echo $this->url('funds', array(), array(
                          'query' => $this->queryParameters));
                          ?>&page=<?php echo $page; ?>">
                          <?php echo $page; ?>
                      </a>
                  </li>
              <?php else: ?>
                  <li class="active">
                      <a href="#"><?php echo $page; ?></a>
                  </li>
              <?php endif; ?>
          <?php endforeach; ?>

          <!-- Next page link -->
          <?php if (isset($funds->getPages()->next)): ?>
              <li>
                  <a href="
                  <?php echo $this->url('funds', array(), array(
                      'query' => $this->queryParameters));
                      ?>&page=<?php echo $funds->getPages()->next; ?>">
                      >>
                  </a>
              </li>
          <?php else: ?>
              <li class="disabled">
                  <a href="#">
                      >>
                  </a>
              </li>
          <?php endif; ?>
      </ul>
  </div>
<?php endif; ?>
